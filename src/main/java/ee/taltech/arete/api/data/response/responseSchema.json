{
  "type": "object",
  "id": "urn:jsonschema:ee:taltech:arete:api:data:response:arete:AreteResponse",
  "properties": {
    "version": {
      "type": "string"
    },
    "errors": {
      "type": "array",
      "description": "List of style, compilation and other errors",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:ee:taltech:arete:api:data:response:arete:Error",
        "properties": {
          "message": {
            "type": "string",
            "description": "Error message"
          },
          "kind": {
            "type": "string",
            "description": "Error kind(styleError, compilationError, other)"
          },
          "fileName": {
            "type": "string",
            "description": "File, where error occured"
          },
          "lineNo": {
            "type": "integer",
            "description": "Line, where error occured"
          },
          "columnNo": {
            "type": "integer",
            "description": "Column, where error occured"
          },
          "hint": {
            "type": "string",
            "description": "Hint, to fix the error"
          }
        }
      }
    },
    "files": {
      "type": "array",
      "description": "List of student files",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:ee:taltech:arete:api:data:response:arete:File",
        "properties": {
          "path": {
            "type": "string",
            "description": "Path for the file"
          },
          "contents": {
            "type": "string",
            "description": "File content"
          }
        }
      }
    },
    "testFiles": {
      "type": "array",
      "description": "List of test files",
      "items": {
        "type": "object",
        "$ref": "urn:jsonschema:ee:taltech:arete:api:data:response:arete:File"
      }
    },
    "testSuites": {
      "type": "array",
      "description": "List of test suites which each contains unit-tests. Each test file produces an test suite",
      "items": {
        "type": "object",
        "id": "urn:jsonschema:ee:taltech:arete:api:data:response:arete:TestContext",
        "properties": {
          "unitTests": {
            "type": "array",
            "description": "List of unittests tested",
            "items": {
              "type": "object",
              "id": "urn:jsonschema:ee:taltech:arete:api:data:response:arete:UnitTest",
              "properties": {
                "groupsDependedUpon": {
                  "type": "array",
                  "description": "Groups of unittests this unittest depends on. If any test fails in that group, this test is skipped",
                  "items": {
                    "type": "string"
                  }
                },
                "status": {
                  "type": "string",
                  "description": "One of the following (success, partial_success, passed, skipped, not_run, failiure, failed, not_set, unknown"
                },
                "weight": {
                  "type": "integer",
                  "description": "Test weight"
                },
                "printExceptionMessage": {
                  "type": "boolean",
                  "description": "Boolean whether to show exception message to student or not"
                },
                "printStackTrace": {
                  "type": "boolean",
                  "description": "Boolean whether to show stack trace to student or not"
                },
                "timeElapsed": {
                  "type": "integer",
                  "description": "Time spent on test"
                },
                "methodsDependedUpon": {
                  "type": "array",
                  "description": "Methods depended, otherwise skipped",
                  "items": {
                    "type": "string"
                  }
                },
                "stackTrace": {
                  "type": "string",
                  "description": "Stacktrace"
                },
                "name": {
                  "type": "string",
                  "description": "Test name"
                },
                "stdout": {
                  "type": "array",
                  "description": "List of stdouts",
                  "items": {
                    "type": "object",
                    "id": "urn:jsonschema:ee:taltech:arete:api:data:response:arete:ConsoleOutput",
                    "properties": {
                      "content": {
                        "type": "string",
                        "description": "Std message"
                      }
                    }
                  }
                },
                "exceptionClass": {
                  "type": "string",
                  "description": "Exception class"
                },
                "exceptionMessage": {
                  "type": "string",
                  "description": "Exception message"
                },
                "stderr": {
                  "type": "array",
                  "description": "List of stderrs",
                  "items": {
                    "type": "object",
                    "$ref": "urn:jsonschema:ee:taltech:arete:api:data:response:arete:ConsoleOutput"
                  }
                }
              }
            }
          },
          "name": {
            "type": "string",
            "description": "Test name"
          },
          "file": {
            "type": "string",
            "description": "Test file path"
          },
          "startDate": {
            "type": "integer",
            "description": "Test start time"
          },
          "endDate": {
            "type": "integer",
            "description": "Test end time"
          },
          "weight": {
            "type": "integer",
            "description": "Sum of test weights"
          },
          "passedCount": {
            "type": "integer",
            "description": "Number of passed tests"
          },
          "grade": {
            "type": "number",
            "description": "Total grade for this test file"
          }
        }
      }
    },
    "consoleOutputs": {
      "type": "array",
      "description": "Console outputs from docker",
      "items": {
        "type": "object",
        "$ref": "urn:jsonschema:ee:taltech:arete:api:data:response:arete:ConsoleOutput"
      }
    },
    "output": {
      "type": "string",
      "description": "HTML result for student"
    },
    "totalCount": {
      "type": "integer",
      "description": "Number of tests"
    },
    "totalGrade": {
      "type": "string",
      "description": "Passed percentage"
    },
    "totalPassedCount": {
      "type": "integer",
      "description": "Number of passed tests"
    },
    "style": {
      "type": "integer",
      "description": "Style percentage"
    },
    "slug": {
      "type": "string",
      "description": "Slug ran for student. for example pr01_something"
    },
    "hash": {
      "type": "string",
      "description": "Commit hash from gitlab"
    },
    "uniid": {
      "type": "string",
      "description": "Students uniid"
    },
    "timestamp": {
      "type": "integer",
      "description": "Testing timestamp"
    },
    "commitMessage": {
      "type": "string",
      "description": "Commit message for student repository"
    },
    "returnExtra": {
      "type": "any",
      "description": "values that are returned the same way they were given in"
    }
  }
}
